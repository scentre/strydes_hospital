{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { loginUser, logoutUser, registerUser, verifyUserDetails } from './authActions';\nconst userAccessToken = localStorage.getItem('userAccessToken') ? localStorage.getItem('userAccessToken') : null;\nconst initialState = {\n  loading: false,\n  user: null,\n  accessToken: userAccessToken,\n  error: null,\n  success: false\n};\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    setCredentials: (state, action) => {\n      state.user = action.payload.user;\n      state.accessToken = action.payload.access_token;\n      localStorage.setItem('userAccessToken', action.payload.access_token);\n    }\n  },\n  extraReducers: {\n    [registerUser.pending]: state => {\n      state.loading = true;\n    },\n    [registerUser.fulfilled]: (state, action) => {\n      state.loading = false;\n      state.user = action.payload.message;\n      state.error = null;\n      state.success = true;\n    },\n    [registerUser.rejected]: (state, action) => {\n      state.loading = false;\n      state.error = action.payload.error;\n    },\n    [loginUser.pending]: state => {\n      state.loading = true;\n    },\n    [loginUser.fulfilled]: (state, action) => {\n      state.loading = false;\n      state.user = action.payload.user;\n      state.accessToken = action.payload.access_token;\n      localStorage.setItem('userAccessToken', action.payload.access_token);\n      state.error = null;\n    },\n    [loginUser.rejected]: (state, action) => {\n      state.loading = false;\n      state.error = action.payload.error;\n    },\n    [logoutUser.pending]: state => {\n      state.loading = true;\n    },\n    [logoutUser.fulfilled]: state => {\n      state.loading = false;\n      state.user = null;\n      state.accessToken = null;\n      localStorage.removeItem('userAccessToken');\n      state.success = true;\n      state.error = null;\n    },\n    [logoutUser.rejected]: (state, action) => {\n      state.loading = false;\n      state.error = action.payload.error;\n    },\n    [verifyUserDetails.pending]: state => {\n      state.loading = true;\n    },\n    [verifyUserDetails.fulfilled]: (state, action) => {\n      state.loading = false;\n      state.user = action.payload.user_details;\n      state.error = null;\n    },\n    [verifyUserDetails.rejected]: state => {\n      state.loading = false;\n    }\n  }\n});\nexport default authSlice.reducer;\nexport const {\n  setCredentials\n} = authSlice.actions;","map":{"version":3,"names":["createSlice","loginUser","logoutUser","registerUser","verifyUserDetails","userAccessToken","localStorage","getItem","initialState","loading","user","accessToken","error","success","authSlice","name","reducers","setCredentials","state","action","payload","access_token","setItem","extraReducers","pending","fulfilled","message","rejected","removeItem","user_details","reducer","actions"],"sources":["/home/ebuka/Documents/development/strydes_hospital/src/store/auth/authSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport {\n\tloginUser, logoutUser, registerUser, verifyUserDetails\n} from './authActions';\n\nconst userAccessToken = localStorage.getItem('userAccessToken')\n\t? localStorage.getItem('userAccessToken')\n\t: null;\n\nconst initialState = {\n\tloading: false,\n\tuser: null,\n\taccessToken: userAccessToken,\n\terror: null,\n\tsuccess: false,\n};\n\nconst authSlice = createSlice({\n\tname: 'auth',\n\tinitialState,\n\treducers: {\n\t\tsetCredentials: (state, action) => {\n\t\t\tstate.user = action.payload.user;\n\t\t\tstate.accessToken = action.payload.access_token;\n\n\t\t\tlocalStorage.setItem('userAccessToken', action.payload.access_token);\n\t\t}\n\t},\n\textraReducers: {\n\t\t[registerUser.pending]: (state) => {\n\t\t\tstate.loading = true;\n\t\t},\n\t\t[registerUser.fulfilled]: (state, action) => {\n\t\t\tstate.loading = false;\n\t\t\tstate.user = action.payload.message;\n\t\t\tstate.error = null;\n\t\t\tstate.success = true;\n\t\t},\n\t\t[registerUser.rejected]: (state, action) => {\n\t\t\tstate.loading = false;\n\t\t\tstate.error = action.payload.error;\n\t\t},\n\n\t\t[loginUser.pending]: (state) => {\n\t\t\tstate.loading = true;\n\t\t},\n\t\t[loginUser.fulfilled]: (state, action) => {\n\t\t\tstate.loading = false;\n\t\t\tstate.user = action.payload.user;\n\t\t\tstate.accessToken = action.payload.access_token;\n\t\t\tlocalStorage.setItem('userAccessToken', action.payload.access_token);\n\t\t\tstate.error = null;\n\t\t},\n\t\t[loginUser.rejected]: (state, action) => {\n\t\t\tstate.loading = false;\n\t\t\tstate.error = action.payload.error;\n\t\t},\n\n\t\t[logoutUser.pending]: (state) => {\n\t\t\tstate.loading = true;\n\t\t},\n\t\t[logoutUser.fulfilled]: (state) => {\n\t\t\tstate.loading = false;\n\t\t\tstate.user = null;\n\t\t\tstate.accessToken = null;\n\t\t\tlocalStorage.removeItem('userAccessToken');\n\t\t\tstate.success = true;\n\t\t\tstate.error = null;\n\t\t},\n\t\t[logoutUser.rejected]: (state, action) => {\n\t\t\tstate.loading = false;\n\t\t\tstate.error = action.payload.error;\n\t\t},\n\n\t\t[verifyUserDetails.pending]: (state) => {\n\t\t\tstate.loading = true;\n\t\t},\n\t\t[verifyUserDetails.fulfilled]: (state, action) => {\n\t\t\tstate.loading = false;\n\t\t\tstate.user = action.payload.user_details;\n\t\t\tstate.error = null;\n\t\t},\n\t\t[verifyUserDetails.rejected]: (state) => {\n\t\t\tstate.loading = false;\n\t\t}\n\t},\n});\n\nexport default authSlice.reducer;\n\nexport const { setCredentials } = authSlice.actions;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}